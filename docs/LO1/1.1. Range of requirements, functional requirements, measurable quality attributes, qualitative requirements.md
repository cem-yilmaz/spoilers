# Functional Requirements
## Database
### *Media*
- The database should not accept (via creating or updating) any *Media* entries that are missing required parameters.
- The database should not accept (via creating or updating) any *Media* entries that have mismatching or invalid part information.
- The database should not accept (via creating or updating) any *Media* entries with that match all of the *title*, *genre*, and *year* in the database
	- This requirement may change as the project matures and is intended to reduce duplication in the database which can lead to all sorts of problems.
- The database should successfully retrieve any number of requested *Media* entries.
- The database should "cascade delete" *Media* entries; all associated *Spoilers* to that *Media* are also deleted.
	- This will have the knock-on effect with the similar requirement in *[Spoilers](#spoilers)*
### *Spoilers*
- The database should not accept (via creating or updating) any *Spoiler* entries that are missing required parameters.
- The database should not accept (via creating or updating) any *Spoiler* entries that have an invalid (not a declared) *intensity* value.
- The database should not accept (via creating or updating) any *Spoiler* entries that are linked to a non-existent *Media* entry.
	- Additionally, if the *Spoiler* is linked to a certain **part**, that part must exist within the *Media* entry.
- The database should successfully retrieve any number of requested *Spoiler* entries.
	- This extends to with and without *filtering* (e.g by *media*, *intensity*)
- The database should "cascade delete" *Spoiler* entries; all associated *URLs* to that *Spoiler* are also deleted.
### *URLs*
- The database should not accept (via creating or updating) any *URL* entries that are missing required parameters.
- The database should not accept (via creating or updating) any *URL* entries that have a `video id` that does not link to a valid *YouTube* video.
- The database should not accept (via creating or updating) any *URL* entries that are linked to a non-existent *Spoiler* entry
	- *Important to note*: each URL entry - while containing a `video id` - also contains information about the spoiler (and therefore media) it displays. This means a single "video" (and `video id`) may appear many times in the database in different contexts, and as such no complex (automated) requirements for duplication prevention are included (unlike [in other data types](#media))
- The database should successfully retrieve any number of requested *URL* entries
	- This extends to with and without *filtering* (by *spoiler*)
		- Filtering by spoiler is our main priority to test for *URL* retrieval since the spoiler filtering tests should cover any further granularity.
- The system should successfully delete any desired *URL* entries.
### Additional
- The database must not be vulnerable to injection or other related attacks.
- The database must only store text entries
	- (e.g if images are eventually stored in the database - like for the wiki - they will have to be hosted elsewhere and the image link will be stored instead)
## Extension
- The extension must show all of the user's current tracked media
- The user's settings and tracked media must be stored across pages and browsing sessions
- The user must be able to delete any of their tracked media entries
- The user must be able to change the "current part" and "spoiler sensitivity (*intensity*)" of any of their tracked media entries and have this reflected in the
- The extension must store a correct list of "filtered URLs" that reflect the user's most recent selection of tracked media/sensitivity/current-part combination
- The extension must show a dynamic "autocomplete" of all media in the database when the user is searching for a new media to track
- The extension must show the correct emoji for each type of media supported by the software

- The extension must alter the thumbnails of any videos that match the filtered URLs
- The extension must alter the titles of 
# Measurable Quality Attributes
- The extension should do most of the data handling, only querying the database when necessary
	- *Motivation*: This is to reduce cost. Personal research has informed me database hosting prices are either based on a model that scales based on amount of data stored or amount of data queried. Since the growth of the database is inevitable come popularity, a pricing model based on number of queries is more suitable since this requirement can directly reduce operational costs
- The database should be available for at least 90% of the requests
- The extension must fit within a small visual footprint on the screen
	- Any overflows will be handled via a scrollbar
- The extension must not add an excess of 50% load time, compared to the average time it takes a *YouTube* page to load.
- The extension must censor videos successfully at least 90% of the time. 
# Qualitative requirements
- The extension should load all information required to censor videos before the YouTube page has an opportunity to load them.
	- This requirement can be split into three distinct sections
		- *The extension must determine the query to send to the database from the user's stored settings*
- If the database is not available, the extension must inform the user
- If the database is not available, the extension must still block videos using the most recent stored data (from the database).
- The extension should censor videos in a way that allows the user to bypass this, only if they choose to do so
