# Important Notice
Below is the original scope of the software. To complete the coursework, I have not implemented the [Wiki](#wiki) functionality. Further documents will make little to no reference to it (as there will be no evidence of testing done to it). I do  aim to implement it for a full open-source release, but for the purposes of Software Testing, the software only has the [Database](#database) and [Extension](#browser-extension) functionality. Many of the tests will also refer to an "admin panel" which is accessed by visiting the port on `localhost`; these tests are for the core database CRUD functionality.

# Database
At the core of the entire project is the database, implemented with MongoDB and accessed through Mongoose. The database stores 3 relational tables. The first is for *"Media"*, containing information about the media's release data, format, length, etc. The database also supports "parts"; an ambigious method of dividing media into custom sections that can be further used to filter spoilers (for example, episodes in a TV series). The second is for spoilers, containing information about the spoiler (so offending videos can be flagged without much debate), it's severity (the system currently supports 3 levels of "spoiler sensitivity"), and a relational link to the media item (in the *Media* table) the spoiler is from. The third table is for *URLs*, containing the actual YouTube video identifier, a relational link to the spoiler item (in the *Spoilers* table) the video with that URL spoils, and a justification for why this video contains the spoiler. This database will be hosted online; the extension will query this address by default (but this can be changed by the user).

# Browser Extension
This data is acted upon primarily through the use of a browser extension, which sends multiple queries to the database. The user can log their progress through their unwatched media, change spoiler sensitivity, track a new media, and even flag unmarked offending videos.
The following user story should cover all functionality the extension provides. It also serves as the primary motivation for the software's existence, as it demonstrates the problem the software intends to solve.
## User Story
"Alice has began watching *Game of Thrones*. She has looked up some related content before starting; enjoying interviews with the actors, previously interacted with tweets discussing it, and has recently googled `game of thrones where to watch uk`.

However, Alice commonly watches YouTube videos throughout the day, and remembers when she decided to watch *Breaking Bad* after a friend reccomended it. Since she had heavily interacted with (spoiler-free) content of the show, YouTube (and by it's ownership, Google) knew she would be interested in it. Unfortunately, Google has no means of knowing which episode she was up to and what any of the major plot threads were, meaning that upon her evening YouTube session, she was immediately shown a video showing a major character's death within the thumbnail, and a concise yet sufficiently descriptive title to match. Alice was annoyed and installed a browser extension that would prevent this in the future.

Before beginning *Game of Thrones*, Alice opens the extension. She clicks on 'Add new media' and searches, in a responsive search bar with autocompleting results, for the series. Upon adding it, Alice sets her sensitivity to 'No Spoilers', and sets the extension to block from further than 'S1E1'. That night, when Alice was casually browsing YouTube again, and notices 2 videos have had their thumbnails blurred beyond recognition alongside having their titles have changed to 'Contains Spoilers for Game of Thrones'. Alice is able to still click on these videos to view them, and the next day, she adjusts her settings to block from 'S1E3', discovering the offending videos to be a clip for a major moment in Episode 2, and a podcast discussing the show's themes and plot points.

Months after viewing the series, Alice realises new videos have appeared that have not been flagged for spoilers. She is able to flag these herself, and uses the 'Add unmarked spoilers' button on the extension to take her to the wiki page where she is able to add the offending videos"
# Wiki
The wiki is a human-readable method of browsing the database, so users may add their own media, spoilers, and flags. Unlike the browser extension (which allows any users to submit flagged videos to the database), more impactful actions - such as adding/editing/deleting media, spoilers, and flagged videos - will only be allowed to users who are signed up, to prevent against mindless spam.

The wiki will use the [MediaWiki](https://www.mediawiki.org/wiki/MediaWiki) API to automatically generate the wiki pages and support these edits.
